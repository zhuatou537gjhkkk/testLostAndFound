<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>æ ¡å›­å¤±ç‰©æ‹›é¢†å¹³å° API æ–‡æ¡£</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      margin: 20px auto;
      max-width: 960px;
      line-height: 1.6;
      background: #fdfdfd;
      color: #333;
      padding: 1em;
    }
    h1, h2, h3 {
      color: #1a73e8;
    }
    code {
      background: #f5f5f5;
      padding: 2px 5px;
      border-radius: 3px;
      font-size: 0.95em;
    }
    pre {
      background: #f5f5f5;
      padding: 10px;
      border-left: 4px solid #1a73e8;
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1em 0;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px 10px;
      text-align: left;
    }
    th {
      background: #f0f0f0;
    }
  </style>
</head>
<body>

<h1>ğŸ“š æ ¡å›­å¤±ç‰©æ‹›é¢†å¹³å° API æ–‡æ¡£</h1>

<h2>ğŸŒ Base URL</h2>
<pre>http://localhost:5000</pre>

<h2>ğŸ§‘ ç”¨æˆ·æ¨¡å—</h2>

<h3>POST /api/auth/register</h3>
<p>ç”¨æˆ·æ³¨å†Œ</p>
<pre>{
  "username": "å¼ ä¸‰",
  "password": "123456",
  "email": "zhangsan@example.com"
}</pre>

<h3>POST /api/auth/login</h3>
<p>ç”¨æˆ·ç™»å½•</p>
<pre>{
  "username": "å¼ ä¸‰",
  "password": "123456"
}</pre>

<h2>ğŸ“¦ ç‰©å“ç®¡ç†</h2>

<h3>POST /api/items</h3>
<p>åˆ›å»ºå¤±ç‰©/æ‹›é¢†ä¿¡æ¯ï¼Œå¹¶è‡ªåŠ¨æ™ºèƒ½æ¨é€</p>
<pre>{
  "title": "é»‘è‰²é’±åŒ…",
  "description": "å›¾ä¹¦é¦†ä¸‰æ¥¼ä¸¢å¤±ï¼Œé‡Œé¢æœ‰å­¦ç”Ÿå¡",
  "image": "/uploads/cover.jpg",
  "images": ["/uploads/1.jpg", "/uploads/2.jpg"],
  "category": "è¯ä»¶ç±»",
  "location": "å›¾ä¹¦é¦†ä¸‰æ¥¼",
  "type": "lost",
  "date": "2025-07-01",
  "latitude": 39.914,
  "longitude": 116.403
}</pre>

<h3>GET /api/items/mine</h3>
<p>è·å–å½“å‰ç”¨æˆ·å‘å¸ƒçš„æ‰€æœ‰ç‰©å“</p>

<h3>DELETE /api/items/:id</h3>
<p>åˆ é™¤æŒ‡å®šç‰©å“ï¼ˆä»…é™æœ¬äººï¼‰</p>

<h3>GET /api/items/search</h3>
<p>ç»¼åˆæœç´¢ + åœ°ç†ç­›é€‰</p>
<pre>/api/items/search?keyword=é’±åŒ…&latitude=39.914&longitude=116.403&radius=0.5</pre>

<h2>ğŸ“¤ å›¾ç‰‡ä¸Šä¼ </h2>

<h3>POST /api/upload/images</h3>
<p>ä¸Šä¼ å¤šå¼ å›¾ç‰‡</p>
<pre>FormData: images: [file1, file2, ...]</pre>

<h2>âœ‰ï¸ é‚®ä»¶é€šçŸ¥æµ‹è¯•</h2>

<h3>POST /api/notify/test-email</h3>
<pre>{
  "email": "test@example.com",
  "subject": "æµ‹è¯•é‚®ä»¶",
  "message": "ä½ å¥½ï¼Œè¿™æ˜¯æµ‹è¯•"
}</pre>

<h2>ğŸ“ æ•°æ®æ¨¡å‹è¯´æ˜ï¼šItem è¡¨</h2>

<table>
  <thead>
    <tr>
      <th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>id</td><td>INTEGER</td><td>ä¸»é”®</td></tr>
    <tr><td>title</td><td>STRING</td><td>ç‰©å“æ ‡é¢˜</td></tr>
    <tr><td>description</td><td>TEXT</td><td>ç‰©å“æè¿°</td></tr>
    <tr><td>image</td><td>STRING</td><td>å•å›¾å°é¢</td></tr>
    <tr><td>images</td><td>JSON</td><td>å¤šå›¾æ•°ç»„</td></tr>
    <tr><td>category</td><td>STRING</td><td>åˆ†ç±»</td></tr>
    <tr><td>location</td><td>STRING</td><td>åœ°ç‚¹æè¿°</td></tr>
    <tr><td>type</td><td>ENUM</td><td>lost / found</td></tr>
    <tr><td>date</td><td>DATE</td><td>ä¸¢å¤±/æ‹¾è·æ—¥æœŸ</td></tr>
    <tr><td>status</td><td>STRING</td><td>é»˜è®¤ open</td></tr>
    <tr><td>latitude</td><td>FLOAT</td><td>çº¬åº¦</td></tr>
    <tr><td>longitude</td><td>FLOAT</td><td>ç»åº¦</td></tr>
    <tr><td>userId</td><td>INTEGER</td><td>å…³è”ç”¨æˆ·</td></tr>
  </tbody>
</table>

<h2>ğŸ“‹ çŠ¶æ€ç å‚è€ƒ</h2>
<table>
  <tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th></tr>
  <tr><td>200</td><td>è¯·æ±‚æˆåŠŸ</td></tr>
  <tr><td>201</td><td>åˆ›å»ºæˆåŠŸ</td></tr>
  <tr><td>400</td><td>å‚æ•°é”™è¯¯</td></tr>
  <tr><td>401</td><td>æœªæˆæƒ</td></tr>
  <tr><td>403</td><td>æƒé™ä¸è¶³</td></tr>
  <tr><td>404</td><td>èµ„æºä¸å­˜åœ¨</td></tr>
  <tr><td>500</td><td>æœåŠ¡å™¨é”™è¯¯</td></tr>
</table>

</body>
</html>
